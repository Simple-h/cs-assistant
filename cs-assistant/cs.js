// ==UserScript==
// @name         cs助手
// @namespace    https://github.com/your-github-username/cs-assistant
// @version      1.0.0.4
// @description  CSGO2饰品捡漏大师脚本超实用！能依据排行榜查询多档次饰品数据，快速掌握历史价格。帮你精准定位性价比饰品，不错过任何捡漏时机，在 CSGO2 饰品交易里轻松抢占先机。
// @author       Jack Mr
// @match        *://*.youpin898.com/*
// @match        *://buff.163.com/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @license      MIT
// @run-at       document-start
// @grant        GM_xmlhttpRequest
// @downloadURL https://update.greasyfork.org/scripts/530260/cs%E5%8A%A9%E6%89%8B.user.js
// @updateURL https://update.greasyfork.org/scripts/530260/cs%E5%8A%A9%E6%89%8B.meta.js
// ==/UserScript==

(function () {
    'use strict';
    let dataList = []; // 截取接口数据
    let urlFlag = '';
    // 获取当前页面的域名
    const hostname = window.location.hostname;
    // 根据不同的域名设置不同的标志
    if (hostname.includes('youpin898.com')) {
        urlFlag = 'yy';
    }
    if (hostname === 'buff.163.com') {
        urlFlag = 'buff';
    }
    console.log(urlFlag)
    const templatesCollectionT1 = {
        // 多普勒系列--匕首
        '爪子刀（★） | 多普勒p1': [31, 49, 88, 98, 106, 113, 135, 190, 196, 217, 218, 220, 226, 253, 262, 296, 311, 354, 384, 387, 409, 445, 530, 540, 547, 552, 574, 594, 606, 610, 630, 717, 730, 746, 783, 812, 858, 939, 972, 989, 998],
        '爪子刀（★） | 多普勒p2': [15, 19, 56, 101, 133, 159, 192, 214, 239, 261, 301, 350, 474, 495, 501, 505, 565, 585, 603, 623, 635, 682, 707, 748, 877, 938, 986, 987],
        '爪子刀（★） | 多普勒p3': [34, 41, 87, 93, 105, 201, 205, 256, 326, 341, 348, 380, 403, 422, 449, 468, 494, 517, 520, 521, 527, 550, 571, 575, 576, 577, 583, 601, 636, 648, 651, 664, 668, 714, 742, 763, 807, 834, 848, 892, 897, 910, 911, 925, 943, 944, 961, 975],
        '爪子刀（★） | 多普勒p4': [34, 41, 87, 93, 105, 201, 205, 256, 326, 341, 348, 380, 403, 422, 449, 468, 494, 517, 520, 521, 527, 550, 571, 575, 576, 577, 583, 601, 636, 648, 651, 664, 668, 714, 742, 763, 807, 834, 848, 849, 892, 897, 910, 911, 925, 943, 944, 961, 975],
        '爪子刀（★） | 多普勒红宝石': [610, 425, 88, 907, 311, 243, 113, 767, 606, 98, 746, 812, 783, 42, 190, 419, 432, 630, 594, 680, 220, 972, 387, 547, 899, 785, 445, 865, 607, 683, 102, 143, 59, 209, 822, 269, 290, 954, 962],
        '爪子刀（★） | 多普勒蓝宝石': [610, 425, 88, 907, 311, 243, 113, 767, 606, 98, 746, 812, 783, 42, 190, 419, 432, 630, 594, 680, 220, 972, 387, 547, 899, 785, 445, 865, 607, 683, 102, 143, 59, 209, 822, 269, 290, 954, 962],
        '蝴蝶刀（★） | 多普勒p1': [],
        '蝴蝶刀（★） | 多普勒p2': [10, 50, 53, 61, 65, 67, 95, 139, 140, 167, 175, 228, 240, 251, 255, 271, 272, 294, 298, 300, 301, 318, 343, 357, 390, 414, 427, 437, 453, 470, 475, 491, 518, 554, 556, 573, 584, 604, 617, 661, 676, 695, 729, 734, 735, 738, 801, 828, 829, 837, 841, 903, 904, 912, 946, 947, 967, 978, 996],
        '蝴蝶刀（★） | 多普勒p3': [34, 41, 87, 93, 105, 205, 256, 326, 341, 348, 380, 403, 422, 468, 517, 520, 521, 527, 550, 571, 575, 576, 583, 601, 636, 648, 651, 664, 668, 714, 742, 763, 807, 834, 848, 892, 897, 910, 911, 925, 943, 944, 961, 975],
        '蝴蝶刀（★） | 多普勒p4': [16, 48, 126, 129, 146, 152, 182, 204, 230, 241, 252, 281, 292, 332, 344, 359, 393, 412, 452, 457, 522, 541, 578, 602, 607, 628, 631, 649, 652, 660, 673, 685, 688, 701, 705, 736, 743, 773, 777, 780, 787, 792, 832, 874, 908, 918, 923, 982, 988, 994],
        '蝴蝶刀（★） | 多普勒红宝石': [29, 36, 53, 72, 121, 134, 291, 422, 467, 494, 576, 583, 602, 630, 651, 664, 701, 703, 704, 788, 793, 806, 807, 832, 897],
        '蝴蝶刀（★） | 多普勒蓝宝石': [29, 36, 53, 72, 121, 134, 291, 422, 467, 494, 576, 583, 602, 630, 651, 664, 701, 703, 704, 788, 793, 806, 807, 832, 897],
        'M9 刺刀（★） | 多普勒p1': [18, 23, 79, 104, 117, 118, 157, 176, 179, 187, 277, 289, 298, 299, 323, 376, 389, 392, 416, 446, 528, 584, 645, 658, 740, 752, 757, 758, 760, 769, 774, 806, 808, 815, 821, 835, 851, 866, 886, 895, 921, 933, 955, 974, 984, 990, 991, 993, 995],
        'M9 刺刀（★） | 多普勒p2': [16, 48, 126, 129, 146, 152, 182, 204, 230, 241, 252, 281, 292, 332, 344, 359, 393, 412, 457, 522, 541, 578, 602, 607, 628, 649, 652, 660, 673, 685, 688, 701, 705, 736, 743, 777, 780, 787, 792, 832, 874, 908, 918, 923, 988, 994],
        'M9 刺刀（★） | 多普勒p3': [39, 44, 75, 77, 83, 132, 194, 221, 231, 237, 244, 248, 279, 349, 352, 355, 371, 398, 410, 434, 469, 478, 484, 490, 502, 510, 519, 523, 544, 558, 603, 634, 650, 675, 711, 721, 731, 739, 772, 784, 855, 871, 883, 926, 983],
        'M9 刺刀（★） | 多普勒p4': [763, 575, 897, 636, 341, 93, 403, 910, 468, 326, 961, 520, 87, 911, 521, 651, 41, 348, 527, 601, 714, 807, 205, 892, 742, 668, 583, 944, 576, 34, 256, 848, 975, 648, 422, 834, 105, 550, 943, 925, 664, 517, 571, 380, 449, 494, 577],
        'M9 刺刀（★） | 多普勒红宝石': [],
        'M9 刺刀（★） | 多普勒蓝宝石': [],
        // 伽玛多普勒系列--匕首
        '爪子刀（★） | 伽玛多普勒p1': [547, 630, 135, 311, 717, 445, 253, 746, 387, 530, 610, 730, 196, 574, 49, 384, 262, 540, 98, 106, 939, 296, 218, 226, 858, 220, 998, 594, 88, 606, 31, 552, 783, 989, 409, 217, 812, 113],
        '爪子刀（★） | 伽玛多普勒p2': [15, 19, 56, 101, 133, 159, 192, 214, 239, 261, 301, 350, 474, 495, 501, 505, 565, 585, 603, 623, 635, 682, 707, 748, 877, 938, 986, 987],
        '爪子刀（★） | 伽玛多普勒p3': [47, 687, 361, 737, 898, 276, 336, 782, 953, 154, 324, 860, 293, 878, 161, 442, 815, 698, 433, 587, 979, 22, 863, 37, 487, 811, 446, 392, 416, 752, 758, 104, 774, 157, 993, 933, 210, 895, 740, 389, 808, 79, 289, 757, 769, 176, 955, 528, 645, 179, 990, 886, 821, 117, 835, 984, 376, 658, 995, 974, 33],
        '爪子刀（★） | 伽玛多普勒p4': [16, 48, 90, 129, 146, 152, 182, 241, 252, 281, 292, 332, 344, 359, 393, 452, 457, 522, 541, 578, 602, 631, 649, 652, 685, 688, 701, 705, 743, 773, 780, 792, 918, 923, 994],
        '爪子刀（★） | 伽玛多普勒绿宝石': [610, 425, 88, 907, 311, 243, 113, 767, 606, 98, 746, 812, 783, 42, 190, 419, 432, 630, 594, 680, 220, 972, 387, 547, 899, 785, 445, 865, 607, 683, 102, 143, 59, 209, 822, 269, 290, 954, 962],
        '蝴蝶刀（★） | 伽玛多普勒p1': [10, 18, 23, 57, 63, 79, 104, 111, 117, 118, 140, 157, 167, 176, 179, 187, 255, 273, 277, 289, 298, 299, 323, 342, 343, 376, 382, 389, 392, 414, 416, 421, 431, 446, 512, 518, 528, 549, 584, 588, 596, 645, 654, 658, 666, 697, 740, 752, 757, 758, 760, 769, 774, 806, 808, 815, 802, 806, 821, 835, 851, 866, 884, 885, 886, 895, 903, 916, 920, 921, 924, 933, 942, 946, 955, 974, 984, 990, 991, 993, 995],
        '蝴蝶刀（★） | 伽玛多普勒p2': [10, 50, 61, 65, 67, 95, 139, 140, 167, 175, 228, 240, 251, 255, 271, 272, 291, 294, 298, 300, 301, 318, 343, 357, 390, 414, 427, 437, 453, 470, 475, 491, 518, 554, 556, 573, 584, 604, 617, 661, 676, 695, 729, 734, 735, 738, 801, 828, 829, 841, 903, 904, 912, 946, 947, 967, 978, 996],
        '蝴蝶刀（★） | 伽玛多普勒p3': [763, 575, 897, 636, 341, 93, 403, 910, 468, 326, 961, 520, 87, 911, 521, 651, 41, 348, 527, 601, 714, 807, 205, 892, 742, 668, 583, 944, 576, 34, 256, 848, 975, 648],
        '蝴蝶刀（★） | 伽玛多普勒p4': [16, 48, 126, 129, 146, 152, 182, 204, 230, 241, 252, 281, 292, 332, 344, 359, 393, 412, 452, 457, 522, 541, 578, 602, 607, 628, 631, 649, 652, 660, 673, 685, 688, 701, 705, 736, 743, 773, 777, 780, 787, 792, 832, 874, 908, 918, 923, 982, 988, 994],
        '蝴蝶刀（★） | 伽玛多普勒绿宝石': [29, 36, 53, 72, 121, 134, 291, 422, 467, 494, 576, 583, 602, 630, 651, 664, 701, 703, 704, 788, 793, 806, 807, 832, 897],
        'M9 刺刀（★） | 伽玛多普勒p1': [16, 48, 126, 129, 146, 152, 182, 204, 230, 241, 252, 281, 292, 332, 344, 359, 393, 412, 452, 457, 522, 541, 578, 602, 607, 628, 631, 649, 652, 660, 673, 685, 688, 701, 705, 736, 743, 773, 777, 780, 787, 792, 832, 874, 908, 918, 923, 982, 988, 994],
        'M9 刺刀（★） | 伽玛多普勒p2': [16, 48, 126, 129, 146, 152, 182, 204, 230, 241, 252, 281, 292, 332, 344, 359, 393, 412, 457, 522, 541, 578, 602, 607, 628, 649, 652, 660, 673, 685, 688, 701, 705, 736, 743, 777, 780, 787, 792, 832, 874, 908, 918, 923, 988, 994],
        'M9 刺刀（★） | 伽玛多普勒p3': [7, 39, 59, 72, 77, 106, 119, 153, 166, 190, 194, 209, 244, 259, 265, 279, 286, 290, 360, 369, 374, 383, 408, 409, 419, 423, 432, 443, 469, 502, 526, 574, 594, 595, 600, 638, 646, 650, 659, 720, 816, 839, 857, 859, 861, 893, 896, 913, 935, 951, 954, 969, 983, 999],
        'M9 刺刀（★） | 伽玛多普勒p4': [34, 41, 87, 93, 105, 201, 205, 256, 326, 341, 348, 380, 403, 422, 449, 468, 494, 517, 520, 521, 527, 550, 571, 575, 576, 577, 583, 601, 636, 648, 651, 664, 668, 714, 742, 747, 763, 807, 825, 834, 848, 892, 897, 910, 911, 925, 943, 944, 961, 975],
        'M9 刺刀（★） | 伽玛多普勒绿宝石': [],
        // 渐变大理石系列--匕首
        '爪子刀（★） | 渐变大理石': [],
        '蝴蝶刀（★） | 渐变大理石': [9, 27, 90, 125, 183, 203, 232, 254, 329, 351, 372, 397, 402, 404, 441, 459, 473, 483, 485, 506, 537, 559, 626, 632, 647, 725, 727, 753, 756, 764, 785, 791, 805, 810, 818, 858, 868, 909, 941, 962, 976, 980],
        // 渐变之色系列--手套
        '专业手套（★） | 渐变之色': [29, 279, 450, 595, 649, 656, 658, 777, 809, 898, 933],
        '运动手套（★） | 大型猎物': [921, 203, 653, 817, 705],
        '运动手套（★） | 夜行衣': [2, 16, 18, 34, 44, 57, 63, 85, 93, 106, 115, 120, 123, 127, 130, 136, 141, 167176, 185, 195, 208, 231, 235, 240, 250, 262, 265, 267, 277, 279, 285, 291, 310, 318, 335, 343, 351, 364, 381, 382, 390, 402, 418, 424, 428, 431, 440, 450, 466, 473, 486, 488, 492, 507, 532, 537, 544, 546, 549, 554, 562, 595, 596, 598, 609, 612, 619, 623, 625, 627, 640, 647, 662, 663, 673, 689, 691, 693, 736, 755, 785, 799, 840, 848, 858, 866, 890, 894, 896, 898, 921, 935, 944, 945, 947, 957, 960, 967, 994],
        '运动手套（★） | 双栖': [16, 34, 73, 81, 112, 240, 280, 287, 327, 472, 480, 737, 872, 996, 997],
        // 表面淬火--步枪
        'AK-47 | 表面淬火': [661, 670, 321, 955, 179, 151, 168, 387, 555, 592, 617, 760, 809, 828, 11, 20, 30, 54, 73, 139, 194, 269, 332, 341, 375, 377, 398, 407, 418, 432, 463, 507, 522, 608, 615, 638, 664, 693, 773, 782, 793, 798, 838, 839, 891, 917, 919, 942, 965, 978, 4, 13, 74, 92, 103, 112, 126, 137, 147, 169, 178, 187, 189, 209, 228, 236, 242, 248, 278, 306, 310, 344, 349, 363, 389, 397, 403, 426, 428, 429, 430, 434, 442, 447, 450, 456, 468, 479, 494, 512, 526, 532, 557, 575, 577, 605, 622, 628, 632, 636, 640, 645, 648, 681, 685, 689, 690, 695, 698, 704, 708, 715, 721, 733, 750, 770, 775, 788, 791, 823, 842, 844, 849, 862, 868, 872, 878, 879, 887, 888, 905, 922, 927, 950, 961, 969, 985, 993, 996, 1000, 6, 10, 18, 19, 34, 56, 95, 108, 114, 156, 164, 199, 206, 208, 230, 255, 280, 285, 367, 379, 385, 393, 424, 441, 457, 458, 464, 475, 476, 489, 497, 501, 502, 505, 531, 537, 546, 553, 566, 573, 579, 583, 587, 593, 609, 618, 629, 633, 652, 668, 671, 699, 707, 716, 720, 741, 746, 780, 830, 858, 867, 869, 880, 882, 931, 932, 944, 959],
        'AK-47（StatTrak™） | 表面淬火': [661, 670, 321, 955, 179, 151, 168, 387, 555, 592, 617, 760, 809, 828, 11, 20, 30, 54, 73, 139, 194, 269, 332, 341, 375, 377, 398, 407, 418, 432, 463, 507, 522, 608, 615, 638, 664, 693, 773, 782, 793, 798, 838, 839, 891, 917, 919, 942, 965, 978, 4, 13, 74, 92, 103, 112, 126, 137, 147, 169, 178, 187, 189, 209, 228, 236, 242, 248, 278, 306, 310, 344, 349, 363, 389, 397, 403, 426, 428, 429, 430, 434, 442, 447, 450, 456, 468, 479, 494, 512, 526, 532, 557, 575, 577, 605, 622, 628, 632, 636, 640, 645, 648, 681, 685, 689, 690, 695, 698, 704, 708, 715, 721, 733, 750, 770, 775, 788, 791, 823, 842, 844, 849, 862, 868, 872, 878, 879, 887, 888, 905, 922, 927, 950, 961, 969, 985, 993, 996, 1000, 6, 10, 18, 19, 34, 56, 95, 108, 114, 156, 164, 199, 206, 208, 230, 255, 280, 285, 367, 379, 385, 393, 424, 441, 457, 458, 464, 475, 476, 489, 497, 501, 502, 505, 531, 537, 546, 553, 566, 573, 579, 583, 587, 593, 609, 618, 629, 633, 652, 668, 671, 699, 707, 716, 720, 741, 746, 780, 830, 858, 867, 869, 880, 882, 931, 932, 944, 959],
        'M9 刺刀（★） | 渐变大理石': [575, 636, 763, 897, 93, 341],
        // M4A1 消音型
        'M4A1 消音型 | 伊卡洛斯殒落': [0, 1, 27, 37, 42, 46, 49, 51, 51, 92, 92, 101, 111, 139, 146, 153, 154, 169, 181, 181, 190, 203, 217, 217, 222, 233, 233, 238, 246, 284, 293, 299, 314, 376, 397, 417, 426, 455, 456, 461, 461, 479, 498, 503, 504, 506, 512, 512, 527, 530, 571, 574, 578, 633, 653, 681, 681, 686, 686, 704, 704, 708, 712, 718, 722, 725, 728, 745, 746, 747, 751, 753, 760, 760, 767, 767, 768, 775, 789, 792, 821, 827, 828, 828, 834, 852, 852, 893, 906, 908, 908, 927, 940, 943, 943, 951, 966, 979],
    };
    const templatesCollectionT2 = {
        // 多普勒系列--匕首
        '爪子刀（★） | 多普勒p1': [20, 60, 66, 77, 110, 119, 125, 127, 160, 184, 194, 202, 230, 243, 287, 369, 370, 404, 419, 423, 432, 444, 469, 570, 589, 600, 627, 632, 661, 667, 678, 680, 694, 723, 776, 785, 795, 803, 817, 853, 857, 861, 865, 868, 899, 907, 913, 922, 928, 935, 949, 982],
        '爪子刀（★） | 多普勒p2': [13, 25, 35, 144, 174, 199, 200, 207, 258, 317, 343, 349, 355, 410, 434, 439, 443, 451, 479, 544, 581, 616, 618, 620, 625, 629, 644, 671, 741, 750, 833, 870, 889, 927, 964, 967, 973],
        '爪子刀（★） | 多普勒p3': [11, 29, 46, 84, 107, 136, 137, 141, 147, 150, 224, 236, 278, 308, 345, 375, 395, 396, 399, 401, 428, 455, 465, 486, 599, 639, 657, 690, 703, 712, 745, 747, 751, 754, 781, 789, 793, 800, 824, 825, 827, 838, 840, 849, 856, 872, 914, 936, 956, 968, 981],
        '爪子刀（★） | 多普勒p4': [11, 29, 46, 84, 89, 107, 136, 137, 141, 147, 150, 168, 224, 236, 278, 308, 345, 375, 395, 396, 399, 401, 428, 430, 455, 465, 486, 599, 639, 657, 690, 703, 712, 745, 747, 749, 751, 754, 781, 789, 793, 798, 800, 824, 825, 827, 838, 840, 856, 872, 914, 936, 956, 968, 981],
        '爪子刀（★） | 多普勒红宝石': [4, 7, 39, 60, 86, 106, 110, 116, 125, 132, 151, 185, 194, 196, 202, 218, 222, 226, 253, 325, 328, 354, 360, 374, 383, 384, 422, 436, 464, 478, 480, 487, 507, 540, 551, 555, 560, 560, 570, 598, 621, 646, 659, 667, 678, 681, 693, 694, 696, 711, 717, 750, 756, 770, 776, 777, 819, 843, 858, 859, 868, 871, 894, 896, 908, 922, 969, 983],
        '爪子刀（★） | 多普勒蓝宝石': [4, 7, 39, 60, 86, 106, 110, 116, 125, 132, 151, 185, 194, 196, 202, 218, 222, 226, 253, 325, 328, 354, 360, 374, 383, 384, 422, 436, 464, 478, 480, 487, 507, 540, 551, 555, 560, 560, 570, 598, 621, 646, 659, 667, 678, 681, 693, 694, 696, 711, 717, 750, 756, 770, 776, 777, 819, 843, 858, 859, 868, 871, 894, 896, 908, 922, 969, 983],
        '蝴蝶刀（★） | 多普勒p1': [],
        '蝴蝶刀（★） | 多普勒p2': [18, 23, 37, 57, 63, 78, 79, 104, 111, 117, 157, 163, 176, 179, 187, 273, 277, 289, 299, 312, 323, 342, 376, 382, 389, 392, 416, 421, 431, 446, 487, 528, 549, 588, 592, 596, 633, 645, 658, 666, 697, 737, 740, 752, 757, 758, 760, 769, 774, 802, 804, 806, 808, 811, 821, 835, 851, 863, 864, 866, 884, 885, 886, 895, 901, 902, 916, 921, 924, 933, 942, 955, 974, 984, 990, 993, 995],
        '蝴蝶刀（★） | 多普勒p3': [11, 29, 46, 84, 107, 137, 141, 147, 150, 201, 224, 236, 278, 308, 345, 375, 395, 396, 399, 401, 428, 449, 465, 486, 494, 577, 599, 639, 657, 690, 745, 747, 751, 754, 781, 789, 793, 800, 824, 825, 827, 838, 840, 849, 856, 872, 914, 936, 956, 968, 981],
        '蝴蝶刀（★） | 多普勒p4': [5, 8, 14, 32, 58, 68, 108, 112, 171, 178, 188, 202, 206, 213, 233, 243, 274, 337, 340, 356, 378, 405, 406, 444, 454, 461, 471, 493, 539, 614, 621, 653, 683, 696, 702, 728, 732, 761, 770, 795, 803, 826, 854, 867, 873, 876, 922, 949, 959, 966, 971, 997],
        '蝴蝶刀（★） | 多普勒红宝石': [6, 15, 30, 41, 44, 55, 56, 59, 86, 110, 126, 128, 135, 136, 147, 151, 155, 159, 184, 241, 262, 300, 338, 362, 398, 401, 428, 445, 460, 491, 623, 696, 683, 762, 910, 946, 966],
        '蝴蝶刀（★） | 多普勒蓝宝石': [6, 15, 30, 41, 44, 55, 56, 59, 86, 110, 126, 128, 135, 136, 147, 151, 155, 159, 184, 241, 262, 300, 338, 362, 398, 401, 428, 445, 460, 491, 623, 696, 683, 762, 910, 946, 966],
        'M9 刺刀（★） | 多普勒p1': [6, 12, 22, 33, 37, 37, 47, 76, 94, 154, 191, 210, 212, 227, 276, 285, 293, 302, 324, 336, 361, 392, 424, 433, 433, 442, 446, 458, 487, 487, 513, 538, 564, 586, 587, 587, 612, 687, 698, 698, 719, 762, 782, 790, 811, 811, 815, 860, 863, 863, 875, 878, 887, 898, 915, 953, 960, 979, 979, 161, 442],
        'M9 刺刀（★） | 多普勒p2': [5, 8, 14, 32, 58, 68, 108, 112, 171, 178, 188, 202, 206, 213, 233, 243, 274, 337, 340, 356, 378, 405, 406, 444, 452, 454, 461, 471, 493, 539, 614, 621, 631, 653, 683, 696, 702, 728, 732, 761, 770, 773, 795, 803, 826, 854, 867, 873, 876, 922, 949, 959, 966, 971, 982, 997],
        'M9 刺刀（★） | 多普勒p3': [17, 101, 122, 127, 135, 158, 159, 169, 186, 197, 198, 208, 219, 242, 263, 275, 320, 330, 339, 362, 407, 417, 420, 456, 467, 472, 476, 497, 500, 509, 534, 542, 557, 562, 585, 669, 671, 679, 681, 692, 708, 748, 788, 796, 862, 952, 987],
        'M9 刺刀（★） | 多普勒p4': [201, 747, 825, 981, 824, 399, 936, 800, 107, 428, 147, 745, 872, 396, 793, 856, 754, 150, 914, 639, 345, 486, 278, 956, 827, 29, 751, 690, 375, 224, 968, 395, 84, 840, 781, 849, 46, 599, 789, 236, 657, 465, 11, 141, 401, 137, 838, 308, 703, 455, 712, 136, 597, 917, 313, 482],
        'M9 刺刀（★） | 多普勒红宝石': [],
        'M9 刺刀（★） | 多普勒蓝宝石': [],
        // 伽玛多普勒系列--匕首
        '爪子刀（★） | 伽玛多普勒p1': [972, 190, 354, 110, 865, 627, 287, 857, 785, 419, 899, 817, 935, 861, 160, 423, 404, 60, 803, 194, 913, 600, 678, 243, 928, 469, 694, 907, 432, 369, 125, 868, 795, 444, 667, 982, 230, 632, 20, 589, 723, 680, 184, 776, 922, 853, 570, 949, 370, 202, 66, 77, 119, 787, 607, 246, 222, 874, 303, 425, 764, 507, 328, 621, 286, 526, 450, 894, 696, 670, 388, 844, 555, 325, 962, 598, 766, 871, 683, 436, 716, 203, 373, 908, 711, 162, 489, 193, 58, 204],
        '爪子刀（★） | 伽玛多普勒p2': [13, 25, 35, 144, 174, 199, 200, 207, 258, 317, 343, 349, 355, 410, 434, 439, 443, 451, 479, 544, 581, 616, 618, 620, 625, 629, 644, 671, 689, 741, 750, 833, 870, 889, 927, 964, 967, 973],
        '爪子刀（★） | 伽玛多普勒p3': [23, 187, 277, 851, 18, 866, 111, 596, 382, 299, 921, 916, 697, 421, 802, 273, 666, 942, 431, 902, 57, 312, 342, 806, 901, 884, 760, 804, 63, 163, 323, 633, 588, 78, 549, 885, 924, 864, 592, 920, 453, 946, 991, 512, 298, 584, 167, 654, 240, 801, 291, 518, 604, 118, 114, 437, 661, 318, 491, 828],
        '爪子刀（★） | 伽玛多普勒p4': [5, 8, 14, 32, 108, 112, 126, 188, 213, 233, 274, 292, 337, 340, 356, 378, 405, 406, 412, 454, 461, 471, 493, 539, 614, 628, 653, 673, 702, 728, 732, 736, 761, 777, 787, 826, 832, 854, 867, 873, 874, 876, 908, 959, 966, 971, 997],
        '爪子刀（★） | 伽玛多普勒绿宝石': [4, 7, 39, 60, 86, 106, 110, 116, 125, 132, 151, 185, 194, 196, 202, 218, 222, 226, 253, 325, 328, 354, 360, 374, 383, 384, 422, 436, 464, 478, 480, 487, 507, 540, 551, 555, 560, 560, 570, 598, 621, 646, 659, 667, 678, 681, 693, 694, 696, 711, 717, 750, 756, 770, 776, 777, 819, 843, 858, 859, 868, 871, 894, 896, 908, 922, 969, 983],
        '蝴蝶刀（★） | 伽玛多普勒p1': [6, 12, 22, 33, 37, 37, 47, 76, 94, 154, 161, 191, 210, 212, 227, 276, 285, 293, 302, 324, 336, 361, 392, 424, 433, 433, 442, 446, 458, 487, 513, 538, 564, 586, 587, 587, 612, 687, 698, 698, 719, 762, 782, 790, 811, 811, 815, 860, 863, 863, 875, 878, 887, 898, 915, 953, 960, 979, 979],
        '蝴蝶刀（★） | 伽玛多普勒p2': [18, 23, 37, 57, 63, 78, 79, 104, 111, 114, 117, 118, 157, 163, 176, 179, 187, 273, 277, 289, 299, 312, 323, 342, 376, 382, 389, 392, 416, 421, 431, 446, 487, 512, 528, 549, 588, 592, 596, 633, 645, 654, 658, 666, 697, 737, 740, 752, 757, 758, 760, 769, 774, 782, 802, 804, 806, 808, 811, 821, 835, 851, 863, 864, 866, 884, 885, 886, 895, 901, 902, 916, 920, 921, 924, 933, 942, 955, 974, 984, 990, 991, 993, 995],
        '蝴蝶刀（★） | 伽玛多普勒p3': [422, 834, 105, 550, 943, 925, 664, 517, 571, 380, 449, 494, 577, 201, 747, 825, 981, 824, 399, 936, 800, 107, 428, 147, 745, 872, 396, 793, 856, 754, 150, 914, 639, 345, 486, 278, 956, 827, 29, 751, 690, 375],
        '蝴蝶刀（★） | 伽玛多普勒p4': [5, 8, 14, 32, 58, 68, 108, 112, 171, 178, 188, 202, 206, 213, 233, 243, 274, 337, 340, 356, 378, 405, 406, 444, 454, 461, 471, 493, 539, 614, 621, 653, 683, 696, 702, 728, 732, 761, 770, 795, 803, 826, 854, 867, 873, 876, 922, 949, 959, 966, 971, 997],
        '蝴蝶刀（★） | 伽玛多普勒绿宝石': [6, 15, 30, 41, 44, 55, 56, 59, 86, 110, 126, 128, 135, 136, 147, 151, 155, 159, 184, 241, 262, 300, 338, 362, 398, 401, 428, 445, 460, 491, 623, 696, 683, 762, 910, 946, 966],
        'M9 刺刀（★） | 伽玛多普勒p1': [5, 8, 14, 32, 58, 68, 108, 112, 171, 178, 188, 202, 206, 213, 233, 243, 274, 337, 340, 356, 378, 405, 406, 444, 454, 461, 471, 493, 539, 614, 621, 653, 683, 696, 702, 728, 732, 761, 770, 795, 803, 826, 854, 867, 873, 876, 922, 949, 959, 966, 971, 997],
        'M9 刺刀（★） | 伽玛多普勒p2': [5, 8, 14, 32, 58, 68, 108, 112, 171, 178, 188, 202, 206, 213, 233, 243, 274, 337, 340, 356, 378, 405, 406, 444, 452, 454, 461, 471, 493, 539, 614, 621, 631, 653, 683, 696, 702, 728, 732, 761, 770, 773, 795, 803, 826, 854, 867, 873, 876, 922, 949, 959, 966, 971, 982, 997],
        'M9 刺刀（★） | 伽玛多普勒p3': [13, 20, 24, 31, 49, 66, 88, 96, 113, 116, 134, 151, 160, 174, 189, 193, 210, 217, 218, 220, 226, 235, 237, 250, 258, 284, 303, 325, 373, 394, 425, 450, 464, 477, 479, 480, 492, 498, 504, 529, 530, 531, 532, 552, 560, 610, 616, 627, 680, 689, 699, 711, 715, 716, 730, 739, 744, 750, 778, 783, 820, 843, 852, 865, 871, 919, 926, 929, 973, 992, 998],
        'M9 刺刀（★） | 伽玛多普勒p4': [11, 29, 46, 84, 107, 137, 141, 147, 150, 224, 229, 236, 278, 308, 313, 345, 358, 375, 395, 396, 399, 401, 428, 455, 465, 486, 599, 608, 639, 657, 690, 703, 712, 745, 751, 754, 781, 789, 793, 800, 824, 827, 838, 840, 849, 856, 872, 914, 917, 936, 956, 968, 981],
        'M9 刺刀（★） | 伽玛多普勒绿宝石': [],
        // 渐变大理石系列--匕首
        '爪子刀（★） | 渐变大理石': [],
        '蝴蝶刀（★） | 渐变大理石': [60, 62, 71, 148, 170, 216, 222, 234, 266, 304, 307, 309, 315, 328, 333, 364, 368, 400, 445, 448, 463, 515, 535, 555, 569, 570, 582, 593, 605, 606, 624, 630, 663, 691, 717, 723, 746, 899, 931, 958],
        // 渐变之色系列--手套
        '专业手套（★） | 渐变之色': [18, 29, 34, 37, 61, 65, 76, 111, 141, 147, 173, 226, 282, 303, 317, 366, 414, 427, 488, 490, 629, 633, 821, 916, 960, 979],
        '运动手套（★） | 大型猎物': [11, 16, 112, 201, 267, 301, 345, 486, 614, 896],
        '运动手套（★） | 双栖': [44, 58, 175, 220, 230, 231, 277, 281, 340, 380, 405, 427, 489, 493, 494, 495, 496, 515, 566, 583, 602, 647, 703, 704, 705, 706, 736, 802, 803, 984],
        'M9 刺刀（★） | 渐变大理石': [41, 87, 326, 403, 468, 520, 910, 961, 348, 521, 527, 601, 651, 714, 807, 911],
        //   '运动手套（★） | 夜行衣': [],
        // M4A1 消音型
        'M4A1 消音型 | 伊卡洛斯殒落': [47, 56, 61, 72, 117, 143, 145, 152, 161, 170, 174, 193, 199, 201, 205, 211, 214, 218, 220, 228, 239, 248, 254, 257, 261, 276, 287, 289, 308, 309, 316, 322, 361, 363, 371, 384, 388, 395, 405, 413, 414, 416, 421, 433, 459, 465, 477, 482, 483, 496, 501, 514, 517, 536, 540, 551, 556, 560, 568, 569, 570, 572, 589, 590, 600, 604, 607, 608, 614, 616, 621, 636, 637, 638, 643, 649, 651, 656, 660, 665, 669, 680, 683, 695, 696, 697, 701, 707, 720, 726, 727, 743, 766, 794, 796, 801, 809, 823, 825, 826, 835, 842, 845, 856, 862, 875, 877, 879, 882, 885, 889, 905, 909, 910, 911, 914, 924, 925, 929, 931, 939, 950, 953, 964, 981, 985, 988, 989, 990],

    };
    const templatesCollectionT3 = {
        // 多普勒系列--匕首
        '爪子刀（★） | 多普勒p1': [4, 7, 39, 58, 102, 151, 153, 162, 193, 203, 204, 222, 246, 250, 269, 286, 303, 325, 328, 334, 360, 373, 388, 394, 411, 412, 425, 436, 450, 464, 477, 480, 489, 492, 504, 507, 526, 551, 554, 555, 560, 579, 593, 598, 607, 621, 646, 659, 670, 683, 696, 706, 711, 716, 733, 756, 764, 766, 777, 787, 818, 844, 871, 874, 893, 894, 896, 908, 954, 962, 983, 992],
        '爪子刀（★） | 多普勒p2': [4, 36, 45, 55, 65, 86, 118, 134, 148, 185, 219, 225, 245, 264, 305, 306, 316, 330, 346, 367, 371, 379, 394, 415, 492, 503, 504, 512, 532, 549, 560, 562, 584, 617, 634, 641, 645, 654, 676, 713, 716, 738, 757, 760, 814, 843, 847, 903, 920, 945, 947, 970],
        '爪子刀（★） | 多普勒p3': [21, 30, 43, 64, 73, 80, 89, 103, 109, 130, 145, 155, 168, 172, 173, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 429, 430, 435, 440, 447, 462, 466, 481, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 597, 608, 640, 665, 677, 686, 726, 749, 759, 798, 813, 881, 891, 917, 940],
        '爪子刀（★） | 多普勒p4': [21, 30, 43, 64, 73, 80, 103, 109, 130, 145, 155, 172, 173, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 429, 435, 440, 447, 462, 466, 481, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 597, 608, 640, 665, 677, 686, 726, 759, 813, 881, 891, 917, 940],
        '爪子刀（★） | 多普勒红宝石': [20, 31, 45, 49, 58, 66, 77, 119, 132, 149, 153, 160, 162, 166, 174, 178, 184, 189, 192, 193, 203, 204, 217, 234, 246, 250, 262, 280, 286, 287, 292, 296, 303, 334, 369, 370, 373, 388, 394, 404, 409, 411, 412, 423, 443, 444, 450, 463, 464, 468, 469, 477, 489, 492, 498, 502, 504, 506, 510, 526, 530, 532, 574, 579, 580, 589, 593, 600, 616, 627, 637, 670, 699, 705, 706, 716, 723, 730, 733, 764, 766, 787, 795, 803, 817, 818, 844, 853, 857, 861, 874, 893, 913, 928, 935, 939, 949, 992, 998],
        '爪子刀（★） | 多普勒蓝宝石': [20, 31, 45, 49, 58, 66, 77, 119, 132, 149, 153, 160, 162, 166, 174, 178, 184, 189, 192, 193, 203, 204, 217, 234, 246, 250, 262, 280, 286, 287, 292, 296, 303, 334, 369, 370, 373, 388, 394, 404, 409, 411, 412, 423, 443, 444, 450, 463, 464, 468, 469, 477, 489, 492, 498, 502, 504, 506, 510, 526, 530, 532, 574, 579, 580, 589, 593, 600, 616, 627, 637, 670, 699, 705, 706, 716, 723, 730, 733, 764, 766, 787, 795, 803, 817, 818, 844, 853, 857, 861, 874, 893, 913, 928, 935, 939, 949, 992, 998],
        '蝴蝶刀（★） | 多普勒p1': [],
        '蝴蝶刀（★） | 多普勒p2': [6, 12, 21, 22, 30, 33, 43, 47, 64, 73, 76, 89, 94, 103, 109, 130, 145, 154, 155, 161, 168, 172, 173, 191, 210, 211, 212, 223, 227, 249, 260, 276, 282, 283, 285, 293, 295, 302, 324, 336, 361, 377, 381, 424, 429, 430, 433, 440, 442, 458, 466, 481, 488, 508, 511, 513, 514, 525, 536, 538, 564, 566, 568, 586, 587, 612, 665, 677, 686, 687, 698, 719, 749, 759, 762, 782, 790, 798, 815, 860, 875, 878, 887, 891, 898, 915, 940, 953, 960, 979],
        '蝴蝶刀（★） | 多普勒p3': [21, 30, 43, 64, 73, 80, 130, 136, 145, 172, 173, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 435, 447, 455, 462, 466, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 597, 608, 640, 665, 677, 686, 703, 712, 726, 759, 813, 881, 891, 917, 940],
        '蝴蝶刀（★） | 多普勒p4': [90, 121, 149, 156, 165, 177, 232, 238, 287, 329, 351, 370, 372, 402, 441, 499, 516, 545, 546, 553, 559, 589, 591, 632, 637, 655, 656, 672, 706, 725, 727, 753, 756, 764, 766, 791, 809, 810, 817, 844, 858, 868, 941, 972, 976, 977],
        '蝴蝶刀（★） | 多普勒红宝石': [4, 11, 12, 14, 22, 31, 43, 50, 66, 82, 84, 90, 94, 105, 132, 137, 144, 211, 221, 286, 342, 348, 350, 360, 361, 389, 393, 440, 456, 466, 468, 492, 503, 557, 560, 566, 588, 589, 591, 626, 628, 636, 645, 692, 697, 708, 712, 717, 720, 721, 799, 816, 870, 871, 874, 875, 877, 880, 895, 911, 913, 925, 928, 951, 952, 961, 962, 965, 993, 997],
        '蝴蝶刀（★） | 多普勒蓝宝石': [4, 11, 12, 14, 22, 31, 43, 50, 66, 82, 84, 90, 94, 105, 132, 137, 144, 211, 221, 286, 342, 348, 350, 360, 361, 389, 393, 440, 456, 466, 468, 492, 503, 557, 560, 566, 588, 589, 591, 626, 628, 636, 645, 692, 697, 708, 712, 717, 720, 721, 799, 816, 870, 871, 874, 875, 877, 880, 895, 911, 913, 925, 928, 951, 952, 961, 962, 965, 993, 997],
        'M9 刺刀（★） | 多普勒p1': [21, 30, 43, 64, 73, 80, 103, 109, 130, 145, 155, 172, 173, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 429, 435, 440, 447, 462, 466, 481, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 597, 608, 640, 665, 677, 686, 726, 759, 813, 881, 891, 917, 940],
        'M9 刺刀（★） | 多普勒p2': [9, 27, 60, 62, 71, 90, 110, 121, 125, 149, 156, 165, 170, 177, 183, 195, 196, 203, 216, 222, 232, 234, 238, 254, 266, 287, 304, 307, 309, 315, 321, 328, 329, 333, 351, 364, 368, 370, 372, 397, 400, 402, 404, 413, 415, 438, 441, 445, 448, 459, 463, 473, 483, 485, 496, 499, 506, 516, 535, 537, 545, 546, 553, 559, 561, 582, 589, 590, 591, 605, 626, 632, 637, 647, 655, 656, 663, 672, 674, 691, 706, 710, 717, 725, 727, 746, 753, 756, 764, 766, 785, 791, 794, 805, 809, 810, 817, 818, 844, 858, 868, 869, 909, 930, 931, 941, 948, 958, 962, 972, 976, 977, 980, 989],
        'M9 刺刀（★） | 多普勒p3': [15, 35, 36, 81, 92, 99, 100, 120, 131, 144, 180, 225, 239, 247, 261, 268, 288, 305, 319, 331, 338, 366, 391, 418, 426, 474, 495, 503, 505, 563, 581, 609, 615, 618, 622, 623, 682, 704, 755, 768, 771, 779, 833, 882, 906, 934, 937, 945, 965, 985],
        'M9 刺刀（★） | 多普勒p4': [726, 80, 358, 314, 608, 181, 435, 229, 881, 640, 572, 813, 462, 447, 172, 223, 173, 64, 891, 43, 130, 759, 249, 145, 566, 466, 940, 665, 514, 511, 283, 381, 21, 282, 211, 686, 536, 488, 508, 568, 677, 377, 260, 73, 30, 295, 525, 798, 168, 430, 89, 749, 458, 915, 76, 302, 440, 564, 887, 481, 12, 33, 970, 103, 109, 155, 429, 440, 481, 458, 915, 76, 302, 564, 887, 12, 33, 790, 94, 6, 960, 762, 210],
        'M9 刺刀（★） | 多普勒红宝石': [],
        'M9 刺刀（★） | 多普勒蓝宝石': [],
        // 伽玛多普勒系列--匕首
        '爪子刀（★） | 伽玛多普勒p1': [250, 593, 334, 579, 477, 39, 151, 4, 102, 983, 733, 659, 7, 756, 706, 954, 411, 896, 394, 893, 818, 269, 777, 480, 412, 560, 464, 992, 646, 504, 551, 360, 492, 153, 443, 42, 767, 116, 383, 478, 843, 969, 189, 705, 699, 59, 859, 132, 280, 209, 750, 770, 166, 498, 178, 463, 143, 616, 693, 510, 234, 292, 580, 637, 185, 506, 174, 532, 502, 45, 290, 822, 374, 3, 973, 72, 660, 484, 472, 138, 855, 96, 684, 259, 534, 531, 626, 605, 0, 258, 929, 24, 1, 603, 744, 890, 529, 846, 958, 773, 725, 265, 146, 479, 231, 595, 839, 284, 522, 980, 951, 410, 490, 71, 44, 28, 715, 650, 720, 235, 279, 689, 408, 13, 216, 919, 883, 852, 134, 364, 309, 5, 820, 385, 816, 321, 349, 638, 791, 451, 337, 310, 307, 456, 335, 148, 371, 75, 355, 406, 434, 624, 372, 339, 112, 27, 237, 164, 352, 142, 415, 569, 315, 941, 515, 966, 248, 681, 642, 772, 674, 794, 709, 54, 83, 115, 197, 368, 263, 926, 473, 244, 351, 304, 62, 386, 986],
        '爪子刀（★） | 伽玛多普勒p2': [4, 36, 45, 55, 65, 86, 118, 134, 148, 185, 219, 225, 245, 264, 305, 306, 316, 330, 346, 367, 371, 379, 394, 415, 492, 503, 504, 512, 532, 549, 560, 562, 584, 617, 634, 641, 645, 654, 676, 713, 716, 738, 757, 760, 814, 843, 847, 903, 920, 945, 947, 970],
        '爪子刀（★） | 伽玛多普勒p3': [301, 903, 996, 294, 475, 427, 2, 470, 343, 61, 251, 414, 53, 272, 829, 947, 95, 904, 228, 357, 734, 695, 738, 735, 554, 967, 676, 140, 65, 617, 139, 67, 439, 50, 841, 300, 390, 10, 255, 175, 379, 729, 97, 641, 765, 823, 38, 797, 741, 837, 91, 964, 533, 629, 778, 567, 950, 207, 963, 19, 573, 978, 271, 556, 912],
        '爪子刀（★） | 伽玛多普勒p4': [9, 68, 121, 149, 156, 165, 171, 177, 183, 204, 206, 232, 238, 254, 329, 351, 372, 402, 441, 448, 499, 516, 537, 545, 546, 553, 559, 561, 590, 591, 637, 655, 656, 672, 710, 725, 727, 753, 756, 791, 809, 810, 817, 844, 941, 976, 977, 980, 988],
        '爪子刀（★） | 伽玛多普勒绿宝石': [20, 31, 45, 49, 58, 66, 77, 119, 132, 149, 153, 160, 162, 166, 174, 178, 184, 189, 192, 193, 203, 204, 217, 234, 246, 250, 262, 280, 286, 287, 292, 296, 303, 334, 369, 370, 373, 388, 394, 404, 409, 411, 412, 423, 443, 444, 450, 463, 464, 468, 469, 477, 489, 492, 498, 502, 504, 506, 510, 526, 530, 532, 574, 579, 580, 589, 593, 600, 616, 627, 637, 670, 699, 705, 706, 716, 723, 730, 733, 764, 766, 787, 795, 803, 817, 818, 844, 853, 857, 861, 874, 893, 913, 928, 935, 939, 949, 992, 998],
        '蝴蝶刀（★） | 伽玛多普勒p1': [21, 30, 43, 64, 73, 80, 103, 109, 130, 145, 155, 172, 173, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 429, 435, 440, 447, 462, 466, 481, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 597, 608, 640, 665, 677, 686, 726, 759, 813, 881, 891, 917, 940],
        '蝴蝶刀（★） | 伽玛多普勒p2': [6, 12, 21, 22, 30, 33, 43, 47, 53, 64, 73, 76, 89, 94, 103, 109, 130, 145, 154, 155, 161, 168, 172, 173, 191, 210, 211, 212, 223, 227, 249, 260, 276, 282, 283, 285, 293, 295, 302, 324, 336, 361, 377, 381, 424, 429, 430, 433, 440, 442, 458, 466, 481, 488, 508, 511, 513, 514, 525, 536, 538, 564, 566, 568, 586, 587, 612, 665, 677, 686, 687, 698, 719, 749, 759, 762, 790, 798, 815, 860, 875, 878, 887, 891, 898, 915, 940, 953, 960, 979],
        '蝴蝶刀（★） | 伽玛多普勒p3': [224, 968, 395, 84, 840, 781, 849, 46, 599, 789, 236, 657, 465, 11, 141, 401, 137, 838, 308, 703, 455, 712, 136, 597, 917, 313, 482, 726, 80, 358, 314, 608, 181, 435, 229, 881, 640, 572, 813, 462, 447, 172, 223, 173, 64, 891, 43, 130, 759, 249, 145, 566, 466, 940, 665, 514, 511],
        '蝴蝶刀（★） | 伽玛多普勒p4': [90, 121, 149, 156, 165, 177, 232, 238, 287, 329, 351, 370, 372, 402, 441, 499, 516, 545, 546, 553, 559, 589, 591, 632, 637, 655, 656, 672, 706, 725, 727, 753, 756, 764, 766, 791, 809, 810, 817, 844, 858, 868, 941, 972, 976, 977],
        '蝴蝶刀（★） | 伽玛多普勒绿宝石': [4, 11, 12, 14, 22, 31, 43, 50, 66, 82, 84, 90, 94, 105, 132, 137, 144, 211, 221, 286, 342, 348, 350, 360, 361, 389, 393, 440, 456, 466, 468, 492, 503, 557, 560, 566, 588, 589, 591, 626, 628, 636, 645, 692, 697, 708, 712, 717, 720, 721, 799, 816, 870, 871, 874, 875, 877, 880, 895, 911, 913, 925, 928, 951, 952, 961, 962, 965, 993, 997],
        'M9 刺刀（★） | 伽玛多普勒p1': [90, 121, 149, 156, 165, 177, 232, 238, 287, 329, 351, 370, 372, 402, 441, 499, 516, 545, 546, 553, 559, 589, 591, 632, 637, 655, 656, 672, 706, 725, 727, 753, 756, 764, 766, 791, 809, 810, 817, 844, 858, 868, 941, 972, 976, 977],
        'M9 刺刀（★） | 伽玛多普勒p2': [9, 27, 60, 62, 71, 90, 110, 121, 125, 149, 156, 165, 170, 177, 183, 195, 196, 203, 216, 222, 232, 234, 238, 254, 266, 287, 304, 307, 309, 315, 321, 328, 329, 333, 351, 364, 368, 370, 372, 397, 400, 402, 404, 413, 415, 438, 441, 445, 448, 459, 463, 473, 483, 485, 496, 499, 506, 516, 535, 537, 545, 546, 553, 559, 561, 582, 589, 590, 591, 605, 626, 632, 637, 647, 655, 656, 663, 672, 674, 691, 706, 710, 717, 725, 727, 746, 753, 756, 764, 766, 785, 791, 794, 805, 809, 810, 817, 818, 844, 858, 868, 869, 909, 930, 931, 941, 948, 958, 962, 972, 976, 977, 980, 989],
        'M9 刺刀（★） | 伽玛多普勒p3': [4, 42, 44, 45, 54, 75, 83, 102, 115, 132, 142, 143, 162, 184, 185, 221, 231, 248, 253, 262, 269, 280, 296, 311, 317, 349, 352, 355, 371, 384, 386, 387, 398, 410, 434, 436, 451, 484, 490, 507, 510, 523, 540, 544, 547, 551, 558, 579, 598, 603, 611, 634, 642, 675, 678, 684, 693, 694, 721, 731, 733, 767, 772, 784, 853, 855, 883, 890, 928, 939, 986],
        'M9 刺刀（★） | 伽玛多普勒p4': [21, 30, 43, 64, 73, 80, 80, 130, 145, 172, 173, 181, 181, 211, 223, 229, 249, 260, 282, 283, 295, 313, 314, 358, 377, 381, 435, 435, 447, 462, 466, 482, 482, 488, 508, 511, 514, 525, 536, 566, 568, 572, 608, 640, 665, 677, 686, 726, 726, 759, 813, 881, 891, 917, 940],
        'M9 刺刀（★） | 伽玛多普勒绿宝石': [],
        // 渐变大理石系列--匕首
        '爪子刀（★） | 渐变大理石': [],
        '蝴蝶刀（★） | 渐变大理石': [1, 3, 7, 13, 20, 24, 31, 42, 44, 45, 49, 54, 59, 66, 72, 75, 77, 96, 98, 102, 106, 113, 119, 134, 142, 143, 151, 153, 162, 164, 174, 184, 185, 189, 190, 193, 194, 209, 217, 218, 220, 226, 231, 246, 250, 253, 258, 259, 262, 269, 280, 284, 286, 290, 296, 303, 310, 311, 325, 334, 335, 354, 369, 371, 373, 374, 385, 387, 388, 394, 411, 413, 415, 419, 423, 425, 432, 436, 438, 443, 450, 451, 464, 477, 479, 489, 492, 496, 498, 504, 507, 526, 529, 531, 532, 547, 551, 552, 560, 574, 579, 580, 600, 610, 627, 642, 670, 678, 680, 684, 689, 693, 699, 709, 715, 730, 733, 744, 767, 776, 794, 812, 816, 820, 839, 843, 845, 846, 852, 853, 857, 861, 865, 894, 896, 919, 929, 935, 951, 969, 973, 992],
        // 渐变之色系列--手套
        '专业手套（★） | 渐变之色': [35, 37, 39, 42, 69, 74, 100, 101, 115, 127, 128, 134, 136, 137, 146, 155, 170, 186, 189, 191, 219, 222, 235, 237, 244, 252, 253, 269, 271, 273, 275, 278, 285, 286, 290, 293, 309, 310, 313, 316, 319, 320, 337, 351, 358, 359, 362, 388, 391, 394, 413, 429, 430, 431, 438, 440, 458, 467, 468, 474, 479, 483, 512, 530, 542, 544, 556, 562, 563, 566, 569, 578, 581, 583, 590, 591, 592, 611, 615, 618, 627, 661, 689, 695, 698, 724, 727, 760, 767, 784, 793, 801, 808, 812, 816, 857, 874, 877, 888, 908, 917, 931, 989],
        '运动手套（★） | 大型猎物': [18, 30, 34, 40, 59, 65, 69, 103, 93, 127, 139, 177, 197, 226, 230, 242, 254, 270, 355, 378, 382, 390, 459, 492, 507, 537, 541, 580, 609, 669, 738, 785, 798, 850, 872, 898, 902, 935],
        'M9 刺刀（★） | 渐变大理石': [34, 205, 256, 583, 648, 668, 742, 834, 892, 943, 944, 975],
        //   '运动手套（★） | 夜行衣': [],
        // M4A1 消音型
        'M4A1 消音型 | 伊卡洛斯殒落': [10, 15, 24, 33, 40, 45, 55, 65, 67, 79, 81, 82, 84, 87, 96, 104, 105, 114, 118, 119, 132, 135, 138, 149, 171, 212, 215, 223, 225, 243, 252, 255, 258, 260, 288, 298, 320, 321, 329, 333, 339, 342, 349, 367, 379, 392, 404, 406, 409, 422, 434, 445, 462, 464, 470, 472, 480, 489, 500, 510, 519, 523, 531, 533, 539, 552, 558, 559, 579, 585, 591, 593, 597, 599, 629, 634, 639, 677, 679, 687, 711, 719, 724, 730, 741, 752, 758, 771, 777, 781, 797, 804, 806, 810, 815, 824, 832, 839, 843, 850, 855, 859, 863, 874, 880, 883, 888, 899, 928, 930, 932, 956, 968, 971, 974, 977, 983, 984, 997, 998, 999],
    };
    const templatesCollectionT4 = {
    };

    console.log('脚本已初始化');

    // 拦截 XMLHttpRequest 请求
    const originalXhrOpen = XMLHttpRequest.prototype.open;

    // 重写 XMLHttpRequest 的 open 方法
    XMLHttpRequest.prototype.open = function (method, url) {
        // queryOnSaleCommodityList 是uu获取在售列表的接口
        if (url.includes('queryOnSaleCommodityList')) {
            const originalOnreadystatechange = this.onreadystatechange;
            console.log("===triger!!")
            // 监听请求完成后的回调
            this.onreadystatechange = function () {
                if (this.readyState === 4 && this.status === 200) {
                    // 获取接口返回的数据
                    const res = JSON.parse(this.responseText);

                    // 存储接口数据，假设接口返回的数据结构适合存储
                    if (res && res.Data) {

                        res.Data.forEach(item => {
                            let obj = {
                                wearValue: item.abrade.replace(/0+$/, '') || '', // 假设接口返回的数据有 wearValue 字段
                                paintseed: item.paintSeed || '', // 假设接口返回的数据有 wearValue 字段
                                template: item.dopplerName || '', // 假设接口返回的数据有 wearValue 字段 多普勒P级
                                targetName: item.commodityName || '', // 假设接口返回的数据有 wearValue 字段 物品全称
                            }
                            dataList.push(obj)
                        });

                        console.log("dataList =====> " + JSON.stringify(dataList));
                    }
                }
                // 调用原始的 onreadystatechange 回调
                if (originalOnreadystatechange) {
                    originalOnreadystatechange.apply(this, arguments);
                }
            };
        }

        // 调用原始的 open 方法
        originalXhrOpen.apply(this, arguments);
    };

    // 按钮弹出窗口
    function showPopup(dataList, goodsName, type) {
        // 创建背景遮罩
        const overlay = document.createElement('div');
        overlay.style.position = 'fixed';
        overlay.style.top = '0';
        overlay.style.left = '0';
        overlay.style.width = '100%';
        overlay.style.height = '100%';
        overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
        overlay.style.zIndex = '9998';
        overlay.style.transition = 'opacity 0.3s ease-in-out';
        overlay.style.opacity = 0;

        setTimeout(() => overlay.style.opacity = 1, 10); // 为遮罩添加渐变出现效果

        // 创建弹窗容器
        const popup = document.createElement('div');
        popup.style.position = 'fixed';
        popup.style.left = '50%';
        popup.style.top = '50%';
        popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
        popup.style.padding = '30px';
        popup.style.backgroundColor = '#ffffff';
        popup.style.borderRadius = '15px';
        popup.style.boxShadow = '0 15px 30px rgba(0, 0, 0, 0.2)';
        popup.style.zIndex = '9999';
        popup.style.maxWidth = '900px';
        popup.style.width = '50%';
        popup.style.fontFamily = 'Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif';
        popup.style.border = 'none';
        popup.style.transition = 'opacity 0.3s ease-in-out, transform 0.3s ease-in-out';
        popup.style.opacity = 0;
        popup.className = 'aaaaapopup'; // 添加类名aaaaapopup

        setTimeout(() => {
            popup.style.opacity = 1;
            popup.style.transform = 'translate(-50%, -50%) scale(1)';
        }, 10); // 为弹窗添加渐变出现和缩放效果

        // 创建内容容器并设置最大高度与隐藏滚动条
        const contentContainer = document.createElement('div');
        contentContainer.style.maxHeight = '600px';
        contentContainer.style.overflow = 'auto'; // 启用滚动
        contentContainer.style.padding = '20px';
        contentContainer.style.fontSize = '16px';
        contentContainer.style.lineHeight = '1.2';

        // 隐藏滚动条，但支持滚动
        contentContainer.style.scrollbarWidth = 'none'; // Firefox
        contentContainer.style.msOverflowStyle = 'none'; // IE 10+

        // 使用 Webkit 方式隐藏滚动条
        contentContainer.style.webkitOverflowScrolling = 'touch'; // 平滑滚动效果
        const style = document.createElement('style');
        style.innerHTML = `
  /* Webkit 浏览器 */
  .hide-scrollbar::-webkit-scrollbar {
      display: none;
  }
  .hide-scrollbar {
      -ms-overflow-style: none;  /* IE 10+ */
      scrollbar-width: none;  /* Firefox */
  }
  `;
        document.head.appendChild(style);
        contentContainer.classList.add('hide-scrollbar'); // 添加样式类以隐藏滚动条

        // 弹窗内容
        let content = `<h3 style="text-align:center; color:#222; font-size: 24px; font-weight: 700; margin-bottom: 25px;">${type === '1' ? '磨损' : '模板'}价格查询</h3>`;

        // 遍历数据列表并生成内容
        dataList.forEach((data, index) => {
            const isLastItem = index === dataList.length - 1;
            content += `
  <div style="${isLastItem ? '' : 'border-bottom: 1px solid #e5e5e5;'} padding: 20px 0;">
      <p style="color:#273249; font-weight: 600;"><strong>名称:</strong> ${goodsName}</p>
      <p style="color:#ff5722; font-weight: 600;"><strong>图案模板:</strong> ${data.paintSeed ? data.paintSeed : ''}</p>
      <p style="color:#273249;"><strong>磨损:</strong> ${data.wearFlot}</p>
      <p style="color:#273249; font-weight: 600;"><strong>印花:</strong>
        ${data.stickers.length > 0 ? data.stickers.map(sticker => `
            <img src="${sticker.stickerimg}" alt="${sticker.name}" style="width: 32px; height: 32px;">
        `).join('') : '<p style="color:#ff5722; font-weight: 600;">无</p>'}
      </p>
      <p style="color:#ff5722; font-weight: 600;"><strong>成交价格:</strong> ¥${data.tradePrice}</p>
      <p style="color:#273249;"><strong>成交时在售底价:</strong> ¥${data.minSellPrice}</p>
      <p style="color:#273249;"><strong>成交时间:</strong> ${new Date(data.tradeTime * 1000).toLocaleString()}</p>
  </div>
  `;
        });

        // 将内容添加到内容容器中
        contentContainer.innerHTML = content;

        // 创建关闭文本
        const closeText = document.createElement('span');
        closeText.innerText = '关闭';
        closeText.style.position = 'absolute';
        closeText.style.top = '15px';
        closeText.style.right = '15px';
        closeText.style.color = '#273249';
        closeText.style.fontSize = '18px';
        closeText.style.cursor = 'pointer';
        closeText.style.fontWeight = '400';
        closeText.style.transition = 'color 0.3s';

        closeText.addEventListener('mouseenter', () => {
            closeText.style.color = '#666';
        });

        closeText.addEventListener('mouseleave', () => {
            closeText.style.color = '#273249';
        });

        closeText.addEventListener('click', () => {
            popup.style.opacity = 0;
            popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
            overlay.style.opacity = 0;
            setTimeout(() => {
                document.body.removeChild(popup);
                document.body.removeChild(overlay);
            }, 300);
        });

        // 将关闭文本和内容容器添加到弹窗
        popup.appendChild(contentContainer);
        popup.appendChild(closeText);

        // 添加到页面
        document.body.appendChild(overlay);
        document.body.appendChild(popup);
    }

    // 发送查询请求的函数
    function sendRequest(wearValue, paintseed, template, type, targetName) {
        // 第一个接口的URL
        const firstApiUrl = 'https://sdt-api.ok-skins.com/user/skin/v2/skin-info?content=' + wearValue + '&timestamp=' + new Date().getTime();

        // 请求第一个接口
        fetch(firstApiUrl, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                'X-App-Version': '1.0.0',
                'X-Currency': 'CNY',
                'X-Device': '1',
                'X-Device-Id': '6ff4f894-4c0a-49a4-935c-2303c4185ecb',
                'Language': 'zh_CN',
                'Origin': 'https://steamdt.com',
                'Referer': 'https://steamdt.com/',
            }
        })
            .then(response => response.json()) // 解析第一个接口的响应
            .then(firstApiData => {

                // 遍历第一个接口返回的数组，寻找匹配的名称
                const matchedItem = firstApiData?.data?.find(item => item.assetDetail?.classInfo?.name === targetName);

                if (matchedItem) {
                    const itemId = matchedItem.assetDetail.classInfo.itemId; // 获取 itemId
                    const goodsName = matchedItem.assetDetail.classInfo.name; // 获取 goodsName

                    // 第二个接口的URL
                    const secondApiUrl = 'https://sdt-api.ok-skins.com/item/trade/v1/list?timestamp=' + new Date().getTime();

                    const headers = {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                        'X-App-Version': '1.0.0',
                        'X-Currency': 'CNY',
                        'X-Device': '1',
                        'X-Device-Id': '6ff4f894-4c0a-49a4-935c-2303c4185ecb',
                        'Language': 'zh_CN',
                        'Origin': 'https://steamdt.com',
                        'Referer': 'https://steamdt.com/',
                    };

                    const requestData = {
                        paintSeed: paintseed ? [paintseed] : [], // 传入 paintseed 数据
                        specialStyles: template ? [template] : [], // 传入 template 数据
                        style: template ? [template] : [], // 传入 style 数据
                        wear: type === '1' ? wearValue : '', // 磨损字段
                        pageSize: 20,
                        itemId: itemId,
                        sortBy: "tradeTime",
                        sortType: "desc",
                        styles: "",
                        paintIndex: [], // 根据需求调整
                        timestamp: new Date().getTime().toString(), // 使用当前时间戳
                    };

                    // 使用 fetch 发送 POST 请求
                    fetch(secondApiUrl, {
                        method: 'POST',
                        headers: headers,
                        body: JSON.stringify(requestData),
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data && data.data.list.length > 0) {
                                showPopup(data.data.list, goodsName, type); // 使用返回的数据更新弹窗
                            }
                        })
                        .catch(error => {
                            console.error('第二个接口请求失败:', error);
                        });
                } else {
                    console.error('没有找到匹配的物品名：', targetName);
                }
            })
            .catch(error => {
                console.error('第一个接口请求失败:', error);

            });
    }

    document.addEventListener('DOMContentLoaded', function () {

        const defaultPaintseedList = new Set([]);

        const storedPaintseedList = localStorage.getItem('paintseedList');
        let paintseedList = storedPaintseedList ? new Set(JSON.parse(storedPaintseedList)) : new Set(defaultPaintseedList);
        let refreshIntervalId = null;

        const panel = document.createElement('div');
        panel.style.position = 'fixed';
        panel.style.top = '20px';
        panel.style.right = '20px';
        panel.style.backgroundColor = 'rgba(38, 49, 71, 0.9)';
        panel.style.backdropFilter = 'blur(5px)'; // 添加模糊效果
        panel.style.borderRadius = '8px';
        panel.style.color = '#fff';
        panel.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.2)';
        panel.style.padding = '18px';
        panel.style.zIndex = 10000;
        panel.style.maxHeight = '400px';
        panel.style.overflowY = 'auto';
        panel.style.fontFamily = 'Arial, sans-serif';
        panel.innerHTML = `
            <a href="https://csgo2.wiki?from=jianloudashi-plugin" target="_blank">
               <img style="width:50px" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F2fc8821e-eb40-4711-90a8-0e0d8e102d62%2Fd952780c-41d8-4840-b136-157392ce321b%2Fimage_5.png?table=collection&id=2e575e25-51de-4609-9f5e-7370aa9064b8&t=2e575e25-51de-4609-9f5e-7370aa9064b8&width=800&cache=v2" />
            </a>
            <a href="https://csgo2.wiki?from=jianloudashi-plugin" target="_blank" style="color:#fff"><strong>【特殊模板捡漏大师】自定义高亮面板</strong></a>
            <br><br>
            <strong>自定义模板历史记录:</strong>
            <div id="paintseedList"></div>
            <button id="clearPaintseeds" style="margin-top: 10px; background-color: #ff6b6b; color: #fff; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">清除历史记录</button>
            <br><br>
            <strong>自定义模板id:</strong>
            <br>
            <input type="text" id="paintseedInput" placeholder="输入 paintseed" style="width: 100%; margin-top: 10px; padding: 5px; border-radius: 5px; border: 1px solid #ccc; color: #000">
            <button id="updatePaintseeds" style="margin-top: 10px; background-color: #F7971D; color: #fff; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">更新目标模板</button>
            <br><br>
            <strong>自动操作:</strong>
            <br>
            <button id="toggleRefresh" style="margin-top: 10px; background-color: #F7971D; color: #fff; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">每5S刷新一次直到遇到自定义模板</button>
        `;
        document.body.appendChild(panel);

        let isPanelHidden = true;
        panel.style.transform = 'translateX(calc(100% + 5px))';
        panel.style.transition = 'transform 0.3s ease';
        panel.style.backgroundColor = 'rgba(247, 151, 49, 0.9)';

        panel.addEventListener('click', (e) => {
            // 只有当点击的是面板背景而不是内部元素时才触发
            if (e.target === panel) {
                if (!isPanelHidden) {
                    // 移动到右边缘，只留下10px
                    panel.style.transform = 'translateX(calc(100% + 5px))';
                    panel.style.transition = 'transform 0.3s ease';
                    panel.style.backgroundColor = 'rgba(247, 151, 49, 0.9)';
                    isPanelHidden = true;
                } else {
                    // 恢复原位
                    panel.style.transform = 'translateX(0)';
                    panel.style.backgroundColor = 'rgba(38, 49, 71, 0.9)';
                    isPanelHidden = false;
                }
            }
        });

        const paintseedDisplay = document.getElementById('paintseedList');
        const clearButton = document.getElementById('clearPaintseeds');
        const updateButton = document.getElementById('updatePaintseeds');
        const paintseedInput = document.getElementById('paintseedInput');
        const toggleRefreshButton = document.getElementById('toggleRefresh');

        let highlightedPaintseeds = new Set(JSON.parse(localStorage.getItem('highlightedPaintseeds') || '[]'));
        updatePanel();

        function processTRElements() {
            let found = false;
            if (urlFlag === 'yy') {
                if (dataList.length <= 0) return found;
                const rows = document.querySelectorAll('tr.ant-table-row');

                rows.forEach((row) => {

                    // 检查当前行是否包含磨损值
                    const wearValueDiv = row.querySelector('.wear-degree-num___AbgA1 span');
                    const wearText = wearValueDiv.textContent.trim();
                    const wearMatch = wearText.match(/磨损：\s*(\d+\.\d+)/);
                    let wearValue = ''; // 磨损值
                    if (wearMatch) {
                        wearValue = wearMatch[1];
                    }

                    // dataList的磨损值匹配wearValue
                    const matchedData = dataList.find(item => item.wearValue === wearValue);
                    if (matchedData) {
                        // 获取doppler名称
                        let template = matchedData.template || '';
                        let paintseed = matchedData.paintseed || '';
                        let targetName = matchedData.targetName || '';
                        let topTemplate = '';

                        template = targetName.includes('多普勒') ? template.toLowerCase() || '' : '';
                        topTemplate = targetName.replace(/\s*\(.*?\)/g, '').trim() + template;


                        // 添加查看历史价格按钮
                        const historyButton = document.createElement('button');
                        historyButton.innerText = '查看历史价格';
                        historyButton.className = 'view-history-btn';
                        historyButton.style.display = 'block';
                        historyButton.style.cursor = 'pointer';
                        historyButton.style.marginBottom = '6px';
                        historyButton.style.padding = '8px 15px';
                        historyButton.style.backgroundColor = '#F7971D';
                        historyButton.style.border = 'none';
                        historyButton.style.color = '#fff';
                        historyButton.style.borderRadius = '4px';
                        historyButton.style.fontSize = '14px';
                        historyButton.style.transition = 'background-color 0.3s';
                        historyButton.style.width = '130px';

                        // 悬浮效果
                        historyButton.addEventListener('mouseenter', () => {
                            historyButton.style.backgroundColor = '#D0801B';
                        });
                        historyButton.addEventListener('mouseleave', () => {
                            historyButton.style.backgroundColor = '#F7971D';
                        });

                        // 添加查看历史价格按钮点击事件
                        historyButton.addEventListener('click', function () {
                            const existingPopups = document.querySelectorAll('.aaaaapopup');
                            existingPopups.forEach(popup => popup.remove());

                            // 调用请求函数
                            sendRequest(wearValue, '', '', '1', targetName); // 传入磨损值和paintseed
                        });

                        // 添加按模板查询价格按钮
                        const templateButton = document.createElement('button');
                        templateButton.innerText = '按模板查询价格';
                        templateButton.className = 'view-template-btn';
                        templateButton.style.cursor = 'pointer';
                        templateButton.style.padding = '8px 15px';
                        templateButton.style.backgroundColor = '#F7971D';
                        templateButton.style.border = 'none';
                        templateButton.style.color = '#fff';
                        templateButton.style.borderRadius = '4px';
                        templateButton.style.fontSize = '14px';
                        templateButton.style.transition = 'background-color 0.3s';
                        templateButton.style.width = '130px';

                        // 悬浮效果
                        templateButton.addEventListener('mouseenter', () => {
                            templateButton.style.backgroundColor = '#D0801B';
                        });
                        templateButton.addEventListener('mouseleave', () => {
                            templateButton.style.backgroundColor = '#F7971D';
                        });

                        templateButton.addEventListener('click', function () {
                            const existingPopups = document.querySelectorAll('.aaaaapopup');
                            existingPopups.forEach(popup => popup.remove());

                            // 调用请求函数
                            sendRequest(wearValue, paintseed, template, '2', targetName); // 传入磨损值和paintseed
                        });
                        // 创建显示T1/T2的div
                        const templateLabel = document.createElement('div');
                        templateLabel.style.marginTop = '5px';
                        templateLabel.style.marginBottom = '5px';
                        templateLabel.style.fontSize = '16px';
                        templateLabel.style.fontWeight = '600';
                        templateLabel.style.backgroundColor = '#fff';
                        templateLabel.style.color = '#fff';
                        templateLabel.style.fontStyle = 'italic';
                        templateLabel.style.textAlign = 'center';
                        templateLabel.style.borderRadius = '4px';
                        templateLabel.style.cursor = 'pointer';
                        // templateLabel.addEventListener('click', function () {
                        //     // 使用 window.open 打开链接，并指定 '_blank' 表示新标签页
                        //     window.open('https://csgo2.wiki', '_blank');
                        // });
                        // 根据模板和paintseed判断是否需要变更背景颜色
                        if (templatesCollectionT1[topTemplate] && templatesCollectionT1[topTemplate].includes(Number(paintseed))) {
                            row.style.backgroundColor = '#E3BF90'; // 满足条件则背景变为黄色
                            templateLabel.style.backgroundColor = '#273249';
                            templateLabel.style.color = '#fff';
                            templateLabel.innerText = '榜单T1🥇'; // 显示T1
                            templateLabel.style.padding = '6px';
                        } else if (templatesCollectionT2[topTemplate] && templatesCollectionT2[topTemplate].includes(Number(paintseed))) {
                            row.style.backgroundColor = '#FFF2E2'; // 满足条件则背景变为蓝色
                            templateLabel.style.backgroundColor = '#454B58';
                            templateLabel.style.color = '#fff';
                            templateLabel.innerText = '榜单T2'; // 显示T2
                            templateLabel.style.padding = '6px';
                        } else if (templatesCollectionT3[topTemplate] && templatesCollectionT3[topTemplate].includes(Number(paintseed))) {
                            templateLabel.style.backgroundColor = '#B3B3B3';
                            templateLabel.innerText = '榜单T3'; // 显示T3
                            templateLabel.style.padding = '6px';
                        } else if (templatesCollectionT4[topTemplate] && templatesCollectionT4[topTemplate].includes(Number(paintseed))) {
                            templateLabel.style.backgroundColor = '#DBDBDB';
                            templateLabel.innerText = '榜单T4'; // 显示T4
                            templateLabel.style.padding = '6px';
                        } else {
                            row.style.backgroundColor = ''; // 不满足条件则恢复默认背景
                        }

                        // 自定义模板
                        if (paintseed !== null && paintseedList.has(paintseed)) {
                            row.style.backgroundColor = '#E3BF90'; // 满足条件则背景变为黄色
                            templateLabel.style.backgroundColor = '#273249';
                            templateLabel.style.color = '#fff';
                            let infix = templateLabel.innerText ? "|" : "";
                            templateLabel.innerText = "自定义模板🚩" + infix + templateLabel.innerText; // 自定义模板
                            templateLabel.style.padding = '6px';
                            highlightedPaintseeds.add(paintseed);
                            found = true;
                        }

                        // 获取行内的一个 td 元素，假设是最后一个 td
                        const lastTd = row.querySelector('td:last-child');
                        if (lastTd) {
                            lastTd.appendChild(templateLabel); // 添加显示T1/T2的div
                            lastTd.appendChild(historyButton);
                            lastTd.appendChild(templateButton);
                        }

                        dataList = dataList.filter(item => item.wearValue !== wearValue);
                    }
                });

            }

            if (urlFlag === 'buff') {
                const rows = document.querySelectorAll('tr');

                rows.forEach(row => {
                    // 检查当前行是否包含磨损值
                    const wearValueDiv = row.querySelector('.wear-value');
                    if (wearValueDiv && !row.querySelector('.view-history-btn') && !row.querySelector('.view-template-btn')) {
                        // 添加查看历史价格按钮
                        const historyButton = document.createElement('button');
                        historyButton.innerText = '饰品/历史价格';
                        historyButton.className = 'view-history-btn';
                        historyButton.style.display = 'block';
                        historyButton.style.margin = '5px 10px 5px';
                        historyButton.style.cursor = 'pointer';
                        historyButton.style.padding = '8px 15px';
                        historyButton.style.backgroundColor = '#F7971D';
                        historyButton.style.border = 'none';
                        historyButton.style.color = '#fff';
                        historyButton.style.borderRadius = '4px';
                        historyButton.style.fontSize = '14px';
                        historyButton.style.transition = 'background-color 0.3s';

                        // 悬浮效果
                        historyButton.addEventListener('mouseenter', () => {
                            historyButton.style.backgroundColor = '#ECBB7E';
                        });
                        historyButton.addEventListener('mouseleave', () => {
                            historyButton.style.backgroundColor = '#F7971D';
                        });
                        // 获取paintseed值
                        const assetInfo = JSON.parse(row.getAttribute('data-asset-info'));
                        const goodsInfo = JSON.parse(row.getAttribute('data-goods-info'));

                        let paintseed = '';
                        let template = '';
                        let targetName = '';
                        let wearValue = null;
                        let topTemplate = '';

                        // 获取磨损值
                        const wearText = wearValueDiv.textContent.trim();
                        const wearMatch = wearText.match(/磨损:\s*(\d+\.\d+)/);
                        if (wearMatch) {
                            wearValue = wearMatch[1];
                        }
                        if (goodsInfo) {
                            targetName = goodsInfo.name || '';
                        }
                        if (assetInfo) {
                            paintseed = assetInfo?.info?.paintseed;
                            template = targetName.includes('多普勒') ? assetInfo?.info?.metaphysic?.data?.name?.toLowerCase() || '' : '';
                        }

                        topTemplate = targetName.replace(/\s*\(.*?\)/g, '').trim() + template;

                        // 添加查看历史价格按钮点击事件
                        historyButton.addEventListener('click', function () {
                            const existingPopups = document.querySelectorAll('.aaaaapopup');
                            existingPopups.forEach(popup => popup.remove());

                            // 调用请求函数
                            sendRequest(wearValue, '', '', '1', targetName); // 传入磨损值和paintseed
                        });

                        // 添加按模板查询价格按钮
                        const templateButton = document.createElement('button');
                        templateButton.innerText = '模板/历史价格';
                        templateButton.className = 'view-template-btn';
                        templateButton.style.marginLeft = '10px';
                        templateButton.style.marginBottom = '10px';
                        templateButton.style.cursor = 'pointer';
                        templateButton.style.padding = '8px 15px';
                        templateButton.style.backgroundColor = '#F7971D';
                        templateButton.style.border = 'none';
                        templateButton.style.color = '#fff';
                        templateButton.style.borderRadius = '4px';
                        templateButton.style.fontSize = '14px';
                        templateButton.style.transition = 'background-color 0.3s';

                        // 悬浮效果
                        templateButton.addEventListener('mouseenter', () => {
                            templateButton.style.backgroundColor = '#ECBB7E';
                        });
                        templateButton.addEventListener('mouseleave', () => {
                            templateButton.style.backgroundColor = '#F7971D';
                        });

                        templateButton.addEventListener('click', function () {
                            const existingPopups = document.querySelectorAll('.aaaaapopup');
                            existingPopups.forEach(popup => popup.remove());

                            // 调用请求函数
                            sendRequest(wearValue, paintseed, template, '2', targetName); // 传入磨损值和paintseed
                        });
                        // 创建显示T1/T2的div
                        const templateLabel = document.createElement('div');
                        templateLabel.style.padding = '5px';
                        templateLabel.style.marginTop = '5px';
                        templateLabel.style.marginLeft = '10px';
                        templateLabel.style.backgroundColor = '#fff';
                        templateLabel.style.borderRadius = '4px';
                        templateLabel.style.fontSize = '13px';
                        templateLabel.style.fontWeight = '600';
                        templateLabel.style.color = '#fff';
                        templateLabel.style.fontStyle = 'italic';
                        templateLabel.style.textAlign = 'center';
                        templateLabel.style.width = '110px';
                        templateLabel.style.cursor = 'pointer';
                        templateLabel.addEventListener('click', function () {
                            // 使用 window.open 打开链接，并指定 '_blank' 表示新标签页
                            window.open('https://csgo2.wiki', '_blank');
                        });
                        // 根据模板和paintseed判断是否需要变更背景颜色
                        if (templatesCollectionT1[topTemplate] && templatesCollectionT1[topTemplate].includes(Number(paintseed))) {
                            row.style.backgroundColor = '#E3BF90'; // 满足条件则背景变为黄色
                            templateLabel.style.backgroundColor = '#273249';
                            templateLabel.style.color = '#fff';
                            templateLabel.innerText = '榜单T1🥇'; // 显示T1
                        } else if (templatesCollectionT2[topTemplate] && templatesCollectionT2[topTemplate].includes(Number(paintseed))) {
                            row.style.backgroundColor = '#FFF2E2'; // 满足条件则背景变为蓝色
                            templateLabel.style.backgroundColor = '#454B58';
                            templateLabel.innerText = '榜单T2'; // 显示T2
                            templateLabel.style.padding = '6px';
                            templateLabel.style.color = '#fff';
                        } else if (templatesCollectionT3[topTemplate] && templatesCollectionT3[topTemplate].includes(Number(paintseed))) {
                            templateLabel.style.backgroundColor = '#B3B3B3';
                            // row.style.backgroundColor = 'lightgreen'; // 满足条件则背景变为绿色
                            templateLabel.innerText = '榜单T3'; // 显示T3
                            templateLabel.style.padding = '6px';
                        } else if (templatesCollectionT4[topTemplate] && templatesCollectionT4[topTemplate].includes(Number(paintseed))) {
                            templateLabel.style.backgroundColor = '#DBDBDB';
                            templateLabel.innerText = '榜单T4'; // 显示T4
                            templateLabel.style.padding = '6px';
                        } else {
                            row.style.backgroundColor = ''; // 不满足条件则恢复默认背景
                        }

                        // 自定义模板
                        if (paintseed !== null && paintseedList.has(paintseed)) {
                            row.style.backgroundColor = '#E3BF90'; // 满足条件则背景变为黄色
                            templateLabel.style.backgroundColor = '#273249';
                            templateLabel.style.color = '#fff';
                            let infix = templateLabel.innerText ? "|" : "";
                            templateLabel.innerText = "自定义模板" + infix + templateLabel.innerText; // 自定义模板
                            templateLabel.style.padding = '6px';
                            highlightedPaintseeds.add(paintseed);
                            found = true;
                        }
                        // 将按钮添加到当前行
                        row.appendChild(templateLabel); // 添加显示T1/T2的div
                        row.appendChild(historyButton);
                        row.appendChild(templateButton);
                    }
                });
            }

            updatePanel();
            if (found) {
                // playAudioNotification();
            }


            return found;
        }

        function updatePanel() {
            paintseedDisplay.textContent = Array.from(highlightedPaintseeds).join(', ');
            paintseedInput.value = Array.from(paintseedList).join(', ');
            localStorage.setItem('highlightedPaintseeds', JSON.stringify(Array.from(highlightedPaintseeds)));
        }

        clearButton.addEventListener('click', () => {
            highlightedPaintseeds.clear();
            updatePanel();
        });

        updateButton.addEventListener('click', () => {

            const inputValues = paintseedInput.value
                .replace(/，|、|\s+/g, ',')
                .split(',')
                .map(item => item.trim())
                .filter(item => item !== '')
                .map(Number)
                .filter(n => !isNaN(n));
            paintseedList = new Set(inputValues);
            highlightedPaintseeds.clear();
            processTRElements();
            updatePanel();
            localStorage.setItem('paintseedList', JSON.stringify(Array.from(paintseedList)));
        });

        toggleRefreshButton.addEventListener('click', () => {

            if (refreshIntervalId) {
                clearInterval(refreshIntervalId);
                refreshIntervalId = null;
                toggleRefreshButton.textContent = "刷新直到有漏";
                localStorage.setItem('refreshActive', 'false');

            } else {
                refreshIntervalId = setInterval(() => {
                    if (!processTRElements()) {

                        location.reload();
                    } else {
                        clearInterval(refreshIntervalId);
                        refreshIntervalId = null;
                        toggleRefreshButton.textContent = "刷新直到有漏";
                        localStorage.setItem('refreshActive', 'false');

                    }
                }, 5000);
                toggleRefreshButton.textContent = "停止刷新";
                localStorage.setItem('refreshActive', 'true');

            }

        });

        processTRElements();

        const observer = new MutationObserver((mutations) => {

            mutations.forEach((mutation) => {
                if (mutation.type === 'childList') {
                    processTRElements();
                }
            });

        });

        observer.observe(document.body, {
            childList: true,
            subtree: true
        });



        if (localStorage.getItem('refreshActive') === 'true') {
            toggleRefreshButton.click();
        }

        function playAudioNotification() {

            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.start();
            oscillator.stop(audioContext.currentTime + 1);

        }
    });
})();
